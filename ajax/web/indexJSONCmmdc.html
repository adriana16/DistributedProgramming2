<html>
<head>

<script type="text/javascript" >
<!--

function initRequest() {
    if (window.XMLHttpRequest) {
        return new XMLHttpRequest();
    } else if (window.ActiveXObject){
        return new ActiveXObject("Microsoft.XMLHTTP");
    }
}

function compute() {
        var mField=document.getElementById("m");
        var nField=document.getElementById("n");
        var tipField=document.getElementById("tip");
        var url = "/ajax/cmmdc?m="+ 
           escape(mField.value)+"&n="+escape(nField.value)+"&tip="+escape(tipField.value);
        var req = initRequest();
        req.onreadystatechange = function() {
            if (req.readyState == 4) {
                if (req.status == 200) {
                    parseMessages(req.responseText);
                } else {
                    alert(req.status+" : "+req.statusText);
                }
            }
        };
        req.open("get", url, true);
        req.send(null);
}

function parseMessages(responseText) {
  var cmmdc=responseText;
  //alert("Cmmdc = "+cmmdc);
  document.getElementById("rezultat").innerHTML="Cmmdc = "+cmmdc;
}
-->
</script>

<title> Cmmdc AJAX</title>
</head>
 <body>
 
 <h1>Cmmdc with AJAX</h1>
 
 <p>
 Primul numar : 
 <input type="text" id="m" value="1" size="15" >
 <p>
 Al doilea numar :
 <input type="text"  id="n" value="1" size="15" >
 <input type="hidden" id="tip" value="json" >
 <p>
 <input type="button" value="Calculeaza" onClick="compute()" >  
 
 <p>
 Cel mai mare divizor comun a celor doua numere este
 <p>
 <div id="rezultat" />
 </body>
</html>
